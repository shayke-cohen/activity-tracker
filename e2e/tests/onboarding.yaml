# Onboarding E2E Test - Maestro Compatible Format
# Run with: maestro test onboarding.yaml

appId: com.activitytracker.ActivityTracker

---
# Launch app
- launchApp

# Wait for either HealthKit dialog or dashboard to appear
- runFlow:
    when:
      visible: "Turn On All"
    commands:
      - tapOn: "Turn On All"
      - tapOn: "Allow"

# Verify dashboard loaded
- assertVisible: "Activity Tracker"

- assertVisible: "TODAY'S PROGRESS"

- assertVisible: "Steps"

- assertVisible: "QUICK START"

# Navigate tabs using accessibility IDs
- tapOn:
    id: "trophy.fill"

- assertVisible: "Achievements"

- tapOn:
    id: "clock.fill"

- assertVisible: "History"

- tapOn:
    id: "person.fill"

- assertVisible: "Settings"

- tapOn:
    id: "house.fill"

- assertVisible: "Activity Tracker"

- takeScreenshot: "onboarding-complete"
